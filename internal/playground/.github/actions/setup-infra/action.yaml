# Code generated by webkit; DO NOT EDIT.
name: "Setup Infrastructure Dependencies"
description: "Install Terraform and SOPS for infrastructure operations"

inputs:
  terraform_version:
    description: "Terraform version to install"
    required: false
    default: "1.13.0"
  sops_version:
    description: "SOPS version to install"
    required: false
    default: "3.11.0"

runs:
  using: "composite"
  steps:
    - name: Install Terraform
      uses: hashicorp/setup-terraform@v3
      with:
        terraform_version: ${{ inputs.terraform_version }}

    - name: Install SOPS
      shell: bash
      run: |
        curl -LO https://github.com/getsops/sops/releases/download/v${{ inputs.sops_version }}/sops-v${{ inputs.sops_version }}.linux.amd64
        sudo mv sops-v${{ inputs.sops_version }}.linux.amd64 /usr/local/bin/sops
        sudo chmod +x /usr/local/bin/sops
        sops --version
